"use strict";(("undefined"!==typeof self?self:this)["webpackChunkmap"]=("undefined"!==typeof self?self:this)["webpackChunkmap"]||[]).push([[979],{9019:function(t,o,e){e.d(o,{Z:function(){return d}});var i=function(){var t=this,o=t._self._c;return t.isGroup?o("MapButton",t._g(t._b({attrs:{active:t.active,elevation:"0",fab:"",height:t.groupSize,text:"",title:t.tooltip||t.title,width:t.groupSize}},"MapButton",t.$attrs,!1),t.$listeners),[t._t("default",(function(){return[o("MapIcon",[t._v(" "+t._s(t.icon)+" ")])]}))],2):o("div",{staticClass:"button-container"},[o("div",{attrs:{title:t.tooltip||t.title}},[t._t("default",(function(){return[o("MapButton",t._g(t._b({staticClass:"button-elevation",attrs:{height:t.size,loading:t.loading,width:t.size}},"MapButton",t.$attrs,!1),t.$listeners),[t._t("default",(function(){return[o("MapIcon",[t._v(" "+t._s(t.icon)+" ")])]}))],2)]}))],2)])},n=[],r=e(1875),s=e(7121),a={components:{MapButton:r.Z,MapIcon:s.Z},props:{icon:{type:String},tooltip:String,title:String,loading:Boolean,size:{type:Number,default:32},active:Boolean},inject:{isGroup:{default:!1},groupSize:{default:0,from:"size"}},computed:{}},l=a,u=e(1001),p=(0,u.Z)(l,i,n,!1,null,"6efba1d6",null),d=p.exports},1934:function(t,o,e){e.d(o,{Z:function(){return d}});var i=function(){var t=this,o=t._self._c;return o("div",{staticClass:"button-container button-group-container",class:{"button-group-row-container":t.row,"button-group-column-container":!t.row},style:{width:t.row?null:t.size+"px",height:t.row?t.size+"px":null}},[o("div",{staticClass:"button-group-sheet button-elevation",class:{"button-group-sheet-column":!t.row},staticStyle:{"border-radius":"150px"}},[t._l(t.items,(function(e,i){return o("MapButton",{key:i+""+e.titl,attrs:{height:t.size,text:"",title:e.title,width:t.size},on:{click:e.onClick}},[o("MapIcon",[t._v(" "+t._s(e.icon)+" ")])],1)})),t._t("default")],2)])},n=[],r=e(1875),s=e(7121),a={components:{MapButton:r.Z,MapIcon:s.Z},props:{items:{type:Array,default:()=>[]},row:Boolean,size:{type:Number,default:32}},provide(){return{isGroup:!0,size:this.size}}},l=a,u=e(1001),p=(0,u.Z)(l,i,n,!1,null,"7f7a17c4",null),d=p.exports},6979:function(t,o,e){e.r(o),e.d(o,{default:function(){return c}});var i=function(){var t=this,o=t._self._c;return o("ModuleContainer",t._b({scopedSlots:t._u([{key:"btn",fn:function(){return[o("MapControlGroupButton",[t.showCompass?o("MapControlButton",{attrs:{title:t.trans("map.action.navigation-control-reset-bearing")},on:{click:t.onResetBearing}},[o("svg",{style:{transform:t.transform},attrs:{height:"22",viewBox:"0 0 24 24",width:"22",xmlns:"http://www.w3.org/2000/svg"}},[o("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[o("path",{attrs:{d:"M0 0h24v24H0z"}}),o("path",{attrs:{d:"M12 3l4 8H8z",fill:"#f44336"}}),o("path",{attrs:{d:"M12 21l-4-8h8z",fill:"#9E9E9E"}})])])]):t._e(),t.showZoom?o("MapControlButton",{attrs:{icon:"mdi-plus",title:t.trans("map.action.navigation-control-zoom-in")},on:{click:t.onZoomIn}}):t._e(),t.showZoom?o("MapControlButton",{attrs:{icon:"mdi-minus",title:t.trans("map.action.navigation-control-zoom-out")},on:{click:t.onZoomOut}}):t._e()],1)]},proxy:!0}])},"ModuleContainer",t.bindModule,!1),[t._t("default")],2)},n=[],r=e(7349),s=e(9019),a=e(1934),l={components:{MapControlGroupButton:a.Z,MapControlButton:s.Z},mixins:[r.Z],props:{showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0}},data:()=>({transform:"rotate(0deg)"}),methods:{onInit(){this.syncRotate=this.syncRotate.bind(this),this.map.on("rotate",this.syncRotate)},onZoomIn(t){this.map.zoomIn({},{originalEvent:t})},onZoomOut(t){this.map.zoomOut({},{originalEvent:t})},onResetBearing(){this.map.easeTo({bearing:0,pitch:0})},syncRotate(){const t=-1*this.map.getBearing();this.transform=`rotate(${t}deg)`}}},u=l,p=e(1001),d=(0,p.Z)(u,i,n,!1,null,null,null),c=d.exports},7349:function(t,o,e){e.d(o,{Z:function(){return c}});e(6699);var i=e(5947),n=function(){var t=this,o=t._self._c;return o("div",{staticClass:"module__container"},[t.controlVisible&&t.$slots["btn"]?o("portal",{attrs:{order:t.order,to:t.btnTo}},[o("div",[t._t("btn")],2)]):t._e(),t._t("default"),o("portal",{attrs:{to:t.draggableTo}},[t._t("draggable",null,null,t.bindDrag)],2)],2)},r=[],s=e(6128),a={components:{Portal:s.h_},props:{prefix:{type:String,default:"mapbox"},btnWidth:{type:Number,default:32},position:{type:String,default:"bottom-right",validator(t){return-1!==["top-left","top-right","bottom-left","bottom-right"].indexOf(t)}},controlVisible:{type:Boolean,default:!0},order:{type:Number,default:0}},computed:{btnTo(){return`${this.position}-${this.prefix}`},draggableTo(){return`map-draggable-${this.prefix}`},bindDrag(){let t={};return this.position.includes("left")&&(t.left=18+this.btnWidth),this.position.includes("right")&&(t.right=18+this.btnWidth),this.position.includes("top")&&(t.top=10),this.position.includes("bottom")&&(t.bottom=10),t}}},l=a,u=e(1001),p=(0,u.Z)(l,n,r,!1,null,"beabf37e",null),d=p.exports,c={components:{ModuleContainer:d},props:{position:{type:String,default:"bottom-right",validator(t){return-1!==["top-left","top-right","bottom-left","bottom-right"].indexOf(t)}},controlVisible:{type:Boolean,default:!0},order:{type:Number,default:0}},data(){return{loaded:!1}},watch:{},inject:["getMap","mapId","trans"],computed:{isLeft(){return this.position.includes("left")},isRight(){return this.position.includes("right")},isTop(){return this.position.includes("top")},isBottom(){return this.position.includes("bottom")},bindModule(){return{controlVisible:this.controlVisible,order:this.order,position:this.position,prefix:this.mapId}}},mounted(){this.$once("module-loaded",(()=>{this.loaded=!0})),this.$on("module-failed",(()=>{this.loaded=!1})),this.getMap((async t=>{if(this.map=t,this.onInit instanceof Function){const t=this.onInit();if(t instanceof Promise)try{await t}catch(o){throw this.$emit("module-failed"),o}}this.$emit("module-loaded")}))},destroyed(){if(this.onDestroy instanceof Function)try{this.onDestroy()}catch(t){console.error(t)}this.map=null},methods:{removeListenerMap(t,o){(0,i.sq)(this.mapId,t,o)},addListenerMap(t,o,e){(0,i.bb)(this.mapId,t,o,e)},actionAfterMapLoaded(t){if(!this.map)return this.$once("module-loaded",(()=>{t()}));t()},removeSource(t){this.map.getSource(t)&&this.map.removeSource(t)},addLayer(t,o){if(!this.map)return this.$once("module-loaded",(()=>{this.addLayer(t,o)}));this.map.addLayer(t,o)},removeLayer(t){this.map&&(this.map.getLayer(t)&&this.map.removeLayer(t),this.map.getSource(t)&&this.map.removeSource(t))}}}}}]);
//# sourceMappingURL=map.umd.min.979.js.map