"use strict";(("undefined"!==typeof self?self:this)["webpackChunkmap"]=("undefined"!==typeof self?self:this)["webpackChunkmap"]||[]).push([[907],{9019:function(e,t,n){n.d(t,{Z:function(){return d}});var o=function(){var e=this,t=e._self._c;return e.isGroup?t("MapButton",e._g(e._b({attrs:{active:e.active,elevation:"0",fab:"",height:e.groupSize,text:"",title:e.tooltip||e.title,width:e.groupSize}},"MapButton",e.$attrs,!1),e.$listeners),[e._t("default",(function(){return[t("MapIcon",[e._v(" "+e._s(e.icon)+" ")])]}))],2):t("div",{staticClass:"button-container"},[t("div",{attrs:{title:e.tooltip||e.title}},[e._t("default",(function(){return[t("MapButton",e._g(e._b({staticClass:"button-elevation",attrs:{height:e.size,loading:e.loading,width:e.size}},"MapButton",e.$attrs,!1),e.$listeners),[e._t("default",(function(){return[t("MapIcon",[e._v(" "+e._s(e.icon)+" ")])]}))],2)]}))],2)])},i=[],l=n(1875),r=n(7121),s={components:{MapButton:l.Z,MapIcon:r.Z},props:{icon:{type:String},tooltip:String,title:String,loading:Boolean,size:{type:Number,default:32},active:Boolean},inject:{isGroup:{default:!1},groupSize:{default:0,from:"size"}},computed:{}},a=s,u=n(1001),c=(0,u.Z)(a,o,i,!1,null,"6efba1d6",null),d=c.exports},1907:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var o=function(){var e=this,t=e._self._c;return t("ModuleContainer",e._b({scopedSlots:e._u([{key:"btn",fn:function(){return[t("MapControlButton",{attrs:{icon:"mdi-fullscreen",title:e.isFullScreen?e.trans("map.action.fullscreen-control-exit"):e.trans("map.action.fullscreen-control-enter")},on:{click:e.onToggleFullScreen}})]},proxy:!0}])},"ModuleContainer",e.bindModule,!1),[e._t("default")],2)},i=[],l=n(7349),r=n(9019),s={components:{MapControlButton:r.Z},props:{type:{type:String,default:"body"}},mixins:[l.Z],data:()=>({isFullScreen:!1,onFullScreenChangeHandle:null}),created(){this.onFullScreenChangeHandle=this.onFullScreenChange.bind(this),document.addEventListener&&(document.addEventListener("fullscreenchange",this.onFullScreenChangeHandle,!1),document.addEventListener("mozfullscreenchange",this.onFullScreenChangeHandle,!1),document.addEventListener("MSFullscreenChange",this.onFullScreenChangeHandle,!1),document.addEventListener("webkitfullscreenchange",this.onFullScreenChangeHandle,!1))},beforeDestroy(){document.removeEventListener&&(document.removeEventListener("fullscreenchange",this.onFullScreenChangeHandle,!1),document.removeEventListener("mozfullscreenchange",this.onFullScreenChangeHandle,!1),document.removeEventListener("MSFullscreenChange",this.onFullScreenChangeHandle,!1),document.removeEventListener("webkitfullscreenchange",this.onFullScreenChangeHandle,!1))},methods:{onFullScreenChange(){this.isFullScreen=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement},onInit(){},onToggleFullScreen(){if(document.fullscreenElement)this.closeFullscreen();else{let e="body"==this.type?document.querySelector("body"):this.getMapContainer();this.openFullscreen(e)}this.$nextTick((()=>{this.map.resize()}))},getMapContainer(e=this.map.getContainer()){return e.classList.contains("map-container")||"BODY"===e.tagName?e:this.getMapContainer(e.parentElement)},openFullscreen(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},closeFullscreen(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}}},a=s,u=n(1001),c=(0,u.Z)(a,o,i,!1,null,null,null),d=c.exports},7349:function(e,t,n){n.d(t,{Z:function(){return h}});n(6699);var o=n(5947),i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"module__container"},[e.controlVisible&&e.$slots["btn"]?t("portal",{attrs:{order:e.order,to:e.btnTo}},[t("div",[e._t("btn")],2)]):e._e(),e._t("default"),t("portal",{attrs:{to:e.draggableTo}},[e._t("draggable",null,null,e.bindDrag)],2)],2)},l=[],r=n(6128),s={components:{Portal:r.h_},props:{prefix:{type:String,default:"mapbox"},btnWidth:{type:Number,default:32},position:{type:String,default:"bottom-right",validator(e){return-1!==["top-left","top-right","bottom-left","bottom-right"].indexOf(e)}},controlVisible:{type:Boolean,default:!0},order:{type:Number,default:0}},computed:{btnTo(){return`${this.position}-${this.prefix}`},draggableTo(){return`map-draggable-${this.prefix}`},bindDrag(){let e={};return this.position.includes("left")&&(e.left=18+this.btnWidth),this.position.includes("right")&&(e.right=18+this.btnWidth),this.position.includes("top")&&(e.top=10),this.position.includes("bottom")&&(e.bottom=10),e}}},a=s,u=n(1001),c=(0,u.Z)(a,i,l,!1,null,"beabf37e",null),d=c.exports,h={components:{ModuleContainer:d},props:{position:{type:String,default:"bottom-right",validator(e){return-1!==["top-left","top-right","bottom-left","bottom-right"].indexOf(e)}},controlVisible:{type:Boolean,default:!0},order:{type:Number,default:0}},data(){return{loaded:!1}},watch:{},inject:["getMap","mapId","trans"],computed:{isLeft(){return this.position.includes("left")},isRight(){return this.position.includes("right")},isTop(){return this.position.includes("top")},isBottom(){return this.position.includes("bottom")},bindModule(){return{controlVisible:this.controlVisible,order:this.order,position:this.position,prefix:this.mapId}}},mounted(){this.$once("module-loaded",(()=>{this.loaded=!0})),this.$on("module-failed",(()=>{this.loaded=!1})),this.getMap((async e=>{if(this.map=e,this.onInit instanceof Function){const e=this.onInit();if(e instanceof Promise)try{await e}catch(t){throw this.$emit("module-failed"),t}}this.$emit("module-loaded")}))},destroyed(){if(this.onDestroy instanceof Function)try{this.onDestroy()}catch(e){console.error(e)}this.map=null},methods:{removeListenerMap(e,t){(0,o.sq)(this.mapId,e,t)},addListenerMap(e,t,n){(0,o.bb)(this.mapId,e,t,n)},actionAfterMapLoaded(e){if(!this.map)return this.$once("module-loaded",(()=>{e()}));e()},removeSource(e){this.map.getSource(e)&&this.map.removeSource(e)},addLayer(e,t){if(!this.map)return this.$once("module-loaded",(()=>{this.addLayer(e,t)}));this.map.addLayer(e,t)},removeLayer(e){this.map&&(this.map.getLayer(e)&&this.map.removeLayer(e),this.map.getSource(e)&&this.map.removeSource(e))}}}}}]);
//# sourceMappingURL=map.umd.min.907.js.map